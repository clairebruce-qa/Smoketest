import org.junit.Test;
import junit.framework.Assert;
import lib.*;


public class TeraBoxST extends TeraBoxTestCase {

	@Test
	public void testLogin() throws Exception {
			
				//terabox login
				Tb.login(selenium, username,password);
			
				Tb.logout(selenium);	
	}

	@Test
	public void testUpload() throws Exception {
		
			//terabox login
			Tb.login(selenium, username,password);
		
			//clear
			Tb.deleteAllOnlineFiles(selenium);
			
			//upload
			Tb.uploadFile(selenium,"chris_46knots.wmv");
			
			//Logout the user
			Tb.logout(selenium);
	}
	
	@Test
	public void testSearch() throws Exception {
			
			//terabox login
			Tb.login(selenium, username,password);
			
			//upload a txt file
			Tb.uploadFile(selenium,"dns.txt");
			
			//search for a text and verify 
			Tb.search(selenium, "dns");
					
			//Logout the user
			Tb.logout(selenium);
				
	}
	
	@Test
	public void testHomePageLinks() throws Exception {
		
		Helper.log("PENDIENTE DE TRADUCCIONES");
		// PENDIENTE DE TRADUCCIONES
		//Al ingresar a R2, con el lenguaje configurado a INGLÉS, si haces click sobre el logo que dice TERABOX en el extremo superior izquierdo de la pantalla los textos de "bienvenido a Terabox" aparecen en castellano.
			
		//terabox login
		Tb.login(selenium, username,password);
		
		//click "terabox Logo" link
		Helper.log("click Terabox Logo on page " + selenium.getLocation());
		selenium.click("//div[@id='main-header']/div/h1/a/cufon[2]/canvas");
		
		//Verify that "Files" menu is loaded
		Helper.waitForElement(selenium, "//div[@id='main-wrapper']/div[1]/div/div[1]/div[1]", "Files help link not shown in " + selenium.getLocation());
	
		//Se busca un texto para comprobar que se haya cargado parte del look and feel determinado
		Assert.assertTrue(selenium.isTextPresent("Terabox ofrece una forma sencilla de acceder"));
	
		//Logout the user
		Tb.logout(selenium);
			
	}
	
	@Test
	public void testHelpPageLinks() throws Exception {
		
		//terabox login
		Tb.login(selenium, username,password);
	
		Helper.log("click Help button on page " + selenium.getLocation());
		selenium.click("//div[@id='main-subheader']/div[1]/a[2]/span");
		
		//Verify that "Files" menu is loaded
		Helper.waitForElement(selenium, "//div[@id='main-wrapper']/div[1]/div/div[1]/div[1]", "Files help link not shown in " + selenium.getLocation());
		
		//Verify that "Albums" menu is loaded
		Helper.waitForElement(selenium, "//div[@id='main-wrapper']/div[1]/div/div[2]/div[1]", "Albums help link not shown in " + selenium.getLocation());
		
		//Verify that "Shared" menu is loaded
		Helper.waitForElement(selenium, "//div[@id='main-wrapper']/div[1]/div/div[3]/div[1]", "Shared help link not shown in " + selenium.getLocation());
		
		//Verify that "Configuration" menu is loaded
		Helper.waitForElement(selenium, "//div[@id='main-wrapper']/div[1]/div/div[4]/div[1]", "Configuration help link not shown in " + selenium.getLocation());
	
		//Verify that "FAQ" menu is loaded
		Helper.waitForElement(selenium, "//div[@id='main-wrapper']/div[1]/div/div[5]/div/div/div", "FAQ help link not shown in " + selenium.getLocation());
	
		//Verify "Files" text after clicking "Files" link
		Helper.clickAndVerify(selenium, "//div[@id='main-wrapper']/div[1]/div/div[1]/div[1]/h2/cufon/canvas", "Files", "//div[@id='main-wrapper']/div[1]/div/div[1]/div[2]/div[1]/div[1]");
	
		//Verify "Albums" text after clicking "Albums" link
		Helper.clickAndVerify(selenium, "//div[@id='main-wrapper']/div[1]/div/div[2]/div[1]/h2/cufon/canvas", "Albums", "//div[@id='main-wrapper']/div[1]/div/div[2]/div[2]/div/div[1]");
	
		//Verify "Shared" text after clicking "Shared" link
		Helper.clickAndVerify(selenium, "//div[@id='main-wrapper']/div[1]/div/div[3]/div[1]/h2/cufon/canvas", "Shared by Me", "//div[@id='main-wrapper']/div[1]/div/div[3]/div[2]/div[1]/div[1]");
	
		//Verify "Information and Preferences" text after clicking "Configuration" link
		Helper.clickAndVerify(selenium, "//div[@id='main-wrapper']/div[1]/div/div[4]/div[1]/h2/cufon/canvas", "Information and Preferences", "//div[@id='main-wrapper']/div[1]/div/div[4]/div[2]/div[1]/div[1]");
	
		//Verify "Configuration" text after clicking "FAQ" link
		selenium.click("//div[@id='main-wrapper']/div[1]/div/div[5]/div/div/div");
		selenium.waitForPageToLoad("5000");
						
		Assert.assertTrue(selenium.isTextPresent("Frequently Asked Questions What is Terabox"));
		
		//Logout the user
		Tb.logout(selenium);
		
	}

	@Test
	public void testDeleteAllOnlineFiles() throws Exception {
		
		//terabox login
		Tb.login(selenium, username,password);
			
		//delete all "online files"
		Tb.deleteAllOnlineFiles(selenium);
		
		//Logout the user
		Tb.logout(selenium);
			
	}
	
	@Test
	public void testChangeLanguage() throws Exception {
			
			//terabox login
			Tb.login(selenium, username,password);
							
			//set the ES language		
			Tb.setLanguageES(selenium);
			
			//set the EN language
			Tb.setLanguageEN(selenium);
					
			//Logout the user
			Tb.logout(selenium);
					
	}
	
	@Test
	public void testCreateFolder() throws Exception  {
		
		
		Tb.login(selenium, username, password);
			
		Tb.deleteAllOnlineFiles(selenium);
		
		Tb.createFolder(selenium, "test");
		
		Tb.deleteFolder(selenium, "test");
		
		Tb.logout(selenium);
		
	}
	
	@Test
	public void testAddGuest() throws Exception {
		
		Tb.login(selenium, username, password);
		
		Tb.addGuest(selenium, "claudia", "pop", "io@email.it");
			
		Tb.logout(selenium);
	
	}

	@Test
	public void testDeleteGuest() throws Exception {
		
		Tb.login(selenium, username, password);
		
		Tb.deleteGuest(selenium, "claudia", "pop", "io@email.it");
		
		Tb.logout(selenium);
	
	}
	
	@Test
	public void testCreateAlbum() throws Exception {
		
		
		Tb.login(selenium, username, password);
		
		Tb.createAlbum(selenium, "automationTest001");
		
		Tb.logout(selenium);
		
	}
	
	@Test
	public void testDeleteAlbum() throws Exception {
			
		Tb.login(selenium, username, password);
		
		Tb.deleteAlbum(selenium, "automationTest001");
		
		Tb.logout(selenium);
		
	}
	
	@Test
	public void testTB504() throws Exception{
		
		// TB-504:File Manager:Subir
		// On File Manager page,  on  "Subir" options , 
		// insert differents files and  confirm  functionality
		
		Tb.login(selenium, username, password);
		
		Tb.deleteAllOnlineFiles(selenium);
		
		//assert all links are not active in  ctl00_BodyPlaceHolder_DirectoryActions_ActionList
		Assert.assertFalse(Tb.isLinkActive(selenium, "button-grey btn-delete left", "Click here to move selected files to recycle bin."));
		Assert.assertFalse(Tb.isLinkActive(selenium, "button-grey btn-share-file left", "Click here to share selected files."));
		Assert.assertFalse(Tb.isLinkActive(selenium, "button-grey btn-play-file left", "Click here to play selected files."));	
		Assert.assertFalse(Tb.isLinkActive(selenium, "button-grey btn-download-file left", "Click here to download selected files."));
				
		Tb.createFolder(selenium, "Folder001");
		Tb.selectFolder(selenium, "Folder001");
		
		Thread.sleep(1000);
	
		Assert.assertTrue(Tb.isLinkActive(selenium, "button-grey btn-delete left", "Click here to move selected files to recycle bin."));
		Assert.assertTrue(Tb.isLinkActive(selenium, "button-grey btn-share-file left", "Click here to share selected files."));
		Assert.assertFalse(Tb.isLinkActive(selenium, "button-grey btn-play-file left", "Click here to play selected files."));	
		Assert.assertTrue(Tb.isLinkActive(selenium, "button-grey btn-download-file left", "Click here to download selected files."));
			
		//click to de-select the folder
		Tb.selectFolder(selenium, "Folder001");
		
		Tb.deleteAllOnlineFiles(selenium);
		
		//upload a mp3 file
		Tb.uploadFile(selenium,"sympho01.mp3");
		
		Thread.sleep(1000);
		
		Tb.selectFile(selenium, "sympho01.mp3");
		Thread.sleep(1000);
		
		Assert.assertTrue(Tb.isLinkActive(selenium, "button-grey btn-delete left", "Click here to move selected files to recycle bin."));
		Assert.assertTrue(Tb.isLinkActive(selenium, "button-grey btn-share-file left", "Click here to share selected files."));
		Assert.assertTrue(Tb.isLinkActive(selenium, "button-grey btn-play-file left", "Click here to play selected files."));	
		Assert.assertTrue(Tb.isLinkActive(selenium, "button-grey btn-download-file left", "Click here to download selected files."));	
		
		//click to select the file
		Tb.selectFile(selenium, "sympho01.mp3");
		
		Tb.deleteAllOnlineFiles(selenium);
		
		Tb.logout(selenium);
		
	}

	@Test
	public void testTB601() throws Exception {
		
		// On Options Files  click on  "Añadir a Album" and confirm funcionality
		
		Tb.login(selenium, username, password);
		
		Tb.deleteAllOnlineFiles(selenium);
		
		try{
			Tb.deleteAlbum(selenium, "test0001");
		} catch(ElementNotFoundException e){
			System.out.println(e);
		}
		
		Tb.gotoHomePage(selenium);
		
		//upload a mp3 file
		Tb.uploadFile(selenium,"sympho01.mp3");
		
		Tb.onlineFilesAddToNewAlbum(selenium, "sympho01.mp3", "test0001");
	
		Tb.deleteAlbum(selenium, "test0001");
		
		Tb.gotoHomePage(selenium);
		
		Tb.deleteAllOnlineFiles(selenium);
		
		Tb.logout(selenium);
		
	}	

	@Test
	public void testTB1205() throws Exception{
		
		// this testt case is a  general spanish navegational  on  terabox web page
		Tb.login(selenium, username, password);
		
		//Tb.setLanguageEN(selenium);
		Tb.setLanguageES(selenium);
		
		//check del link historial
		Helper.clickAndVerify(selenium, "//a[@class='fileBrowserMenuLink']", "¡Bienvenido !", "//div[@class='logged right']");	
				
		//check de Compartidos
		Helper.clickAndVerify(selenium, "//div[@id='main-subheader']/div[1]/div[1]/ul/li[5]/a/cufon/canvas", "seleccionar todo", "//div[@class='select-all left']");
		
		//return to the file manager page
		selenium.open("/application/FileExplorer");
		
		//check del link Backup
		Helper.clickAndVerify(selenium, "//a[@class='backupMenuLink']", "¡Bienvenido !", "//div[@class='logged right']");
	
		//check Administrator de Archivio - Archivos en línea
		Helper.clickAndVerify(selenium, "//a[@class='fileBrowserMenuLink']", "seleccionar todo", "//div[@class='select-all left selectAllSpan']");
		
		Tb.logout(selenium);
		
	}
	
	@Test
	public void testTB600() throws Exception  {
		
		//TB-1222:play video,audio,photo files
		
		Tb.login(selenium, username, password);
		
		//clear OnlineFiles
		Tb.deleteAllOnlineFiles(selenium);
		
		//video to play 
		String[] videos = new String[1];
		String[] photos = new String[1];
		String[] musics = new String[1];
		
		videos[0] = "chris_46knots.wmv";
		musics[0] = "sympho01.mp3";
		photos[0] = "Desert.jpg";
		
		//Upload a video
		Tb.uploadFile(selenium,videos[0]);
		Thread.sleep(10000);
		
		//Upload a mp3
		Tb.uploadFile(selenium,musics[0]);
		Thread.sleep(10000);
		
		//Upload a photo
		Tb.uploadFile(selenium,photos[0]);
		Thread.sleep(10000);
					
		Tb.OnlineFilesPlayMedia(selenium,videos,photos,musics);
		Thread.sleep(10000);
		
		//clear OnlineFiles
		Tb.deleteAllOnlineFiles(selenium);
			
		Tb.logout(selenium);
		
	}

	@Test
	public void emptyRecycleBin() throws Exception  {
		
		//TB-1222:play video,audio,photo files
		
		Tb.login(selenium, username, password);
		
		//Remove all files from recycle bin
		Tb.deleteAllRecycleBin(selenium);
			
		Tb.logout(selenium);
			
	}

}
